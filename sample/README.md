# 書籍貸出管理システム

## プロジェクト概要

社員の書籍貸出を効率的に管理するWebアプリケーションです。社員管理、蔵書管理、貸出・返却処理、履歴管理の機能を提供します。

![書籍貸出管理システム](https://via.placeholder.com/800x400/4F46E5/FFFFFF?text=書籍貸出管理システム)

## 主要機能

### ✅ 実装済み機能

#### 📊 ダッシュボード
- 統計情報の表示（総社員数、総蔵書数、貸出中書籍数、延滞数）
- 最近の貸出一覧表示
- システム全体の状況を一目で把握

#### 👥 社員管理
- **CRUD機能**: 社員の登録・編集・削除
- **検索・フィルタ**: 名前・社員番号・部署・在職状況での絞り込み
- **項目**: 社員番号、氏名、部署、メールアドレス、電話番号、在職状況

#### 📚 蔵書管理
- **CRUD機能**: 書籍の登録・編集・削除
- **検索・フィルタ**: 書籍名・著者・ISBN・カテゴリ・保管場所・貸出状況での絞り込み
- **項目**: ISBN、書籍名、著者、出版社、カテゴリ、保管場所、貸出状況

#### 🔄 貸出管理
- **貸出処理**: 社員への書籍貸出（返却予定日設定）
- **返却処理**: 貸出中書籍の返却処理
- **現在の貸出一覧**: 貸出中書籍の一覧表示（延滞チェック付き）

#### 📜 履歴管理
- **全履歴表示**: 過去の貸出・返却履歴
- **フィルタ機能**: 社員名・書籍名・状態・期間での絞り込み
- **延滞検知**: 自動的な延滞状況の判定・表示

## 技術仕様

### フロントエンド
- **HTML5**: セマンティックな構造
- **Tailwind CSS**: モダンなレスポンシブデザイン
- **Font Awesome**: アイコンライブラリ
- **Vanilla JavaScript**: フレームワーク不使用のピュアJS

### データ管理
- **RESTful API**: テーブルベースのデータ管理
- **リアルタイム更新**: 操作後の即座なデータ更新

### データベース設計

#### employees（社員テーブル）
```
- id: string (自動生成UUID)
- employee_id: string (社員番号)
- name: string (氏名)
- department: string (所属部署)
- email: string (メールアドレス)
- phone: string (電話番号)
- active: boolean (在職状況)
```

#### books（書籍テーブル）
```
- id: string (自動生成UUID)
- isbn: string (ISBNコード)
- title: string (書籍名)
- author: string (著者名)
- publisher: string (出版社)
- category: string (カテゴリ)
- location: string (保管場所)
- status: string (貸出状況: "在庫" | "貸出中")
- borrowed_by: string (貸出者社員ID)
```

#### rental_history（貸出履歴テーブル）
```
- id: string (自動生成UUID)
- book_id: string (書籍ID)
- employee_id: string (社員ID)
- borrowed_date: datetime (貸出日)
- due_date: datetime (返却予定日)
- returned_date: datetime (返却日 - 返却済みのみ)
- status: string (状態: "貸出中" | "返却済み" | "延滞")
```

## API エンドポイント

### 社員管理
- `GET /tables/employees` - 社員一覧取得
- `POST /tables/employees` - 社員登録
- `PUT /tables/employees/{id}` - 社員情報更新
- `DELETE /tables/employees/{id}` - 社員削除

### 書籍管理
- `GET /tables/books` - 書籍一覧取得
- `POST /tables/books` - 書籍登録
- `PUT /tables/books/{id}` - 書籍情報更新
- `DELETE /tables/books/{id}` - 書籍削除

### 貸出履歴
- `GET /tables/rental_history` - 履歴一覧取得
- `POST /tables/rental_history` - 貸出記録作成
- `PUT /tables/rental_history/{id}` - 履歴更新（返却処理）

## 使用方法

### 初期セットアップ
1. システムを起動
2. 社員管理で社員を登録
3. 蔵書管理で書籍を登録

### 貸出処理
1. 貸出管理タブにアクセス
2. 社員と書籍を選択
3. 返却予定日を設定（デフォルト: 2週間後）
4. 「貸出処理」ボタンをクリック

### 返却処理
1. 貸出管理タブの「返却処理」セクション
2. 返却する書籍を選択
3. 「返却処理」ボタンをクリック

### データ検索・フィルタ
- 各管理画面で検索ボックスやフィルタを使用
- リアルタイムで結果が更新

## セキュリティ機能

- **データ整合性**: 貸出中の書籍は削除不可
- **バリデーション**: 必須項目のチェック
- **状態管理**: 書籍と履歴の状態自動同期

## レスポンシブ対応

- **デスクトップ**: フル機能利用
- **タブレット**: グリッドレイアウト調整
- **モバイル**: スクロール可能テーブル

## サンプルデータ

システムには以下のサンプルデータが含まれています：

### 社員データ
- 田中太郎（開発部）
- 鈴木花子（営業部）
- 佐藤次郎（企画部）

### 書籍データ
- JavaScript入門（プログラミング）
- データベース設計（データベース）
- プロジェクト管理の実践（マネジメント）
- Pythonデータ分析（プログラミング）
- Webデザインの基本（デザイン）

## 今後の拡張予定

### 🔄 未実装機能（将来の拡張）

#### 📧 通知システム
- 返却期限のリマインダー
- 延滞通知
- 新着図書通知

#### 📊 レポート機能
- 貸出統計レポート
- 人気書籍ランキング
- 部署別利用状況

#### 🔍 高度な検索
- 全文検索
- タグ検索
- 関連書籍表示

#### 📱 モバイルアプリ
- iOS/Android対応
- QRコード読み取り
- プッシュ通知

#### 🔒 認証・権限管理
- ユーザーログイン
- 役割ベースアクセス制御
- 操作ログ

## 開発者向け情報

### ファイル構成
```
├── index.html           # メインHTML
├── js/
│   └── app.js          # JavaScript機能
└── README.md           # このファイル
```

### 開発環境
- モダンブラウザ対応（Chrome, Firefox, Safari, Edge）
- JavaScript ES6+使用
- CSS Grid & Flexbox活用

### カスタマイズ
- Tailwind CSSクラスでスタイル調整可能
- API呼び出し関数は`js/app.js`に集約
- モーダル表示・非表示は汎用関数化

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## お問い合わせ

システムに関するご質問やご要望は、開発チームまでお問い合わせください。

---

**最終更新**: 2025年8月18日  
**バージョン**: 1.0.0  
**開発者**: 書籍管理システム開発チーム